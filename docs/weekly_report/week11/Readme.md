<h2>11주차 회의록</h2>
<h4>회의 일시 : 2022.05.10</h4>
<h4>참석자 : 조우형, 김준영, 박중후, 유예린</h4>
<h4>회의 주제 : 진행상황 및 통신 방법 결정  </h4>

----------------------------------------------------------
<h3>-회의 내용-</h3>

 <h4>진행 상황 및 문제 해결</h4> 
  
 진행 사항 
 - 쓰레기통 코드 수정 ( 쓰레기통의 총 부피를 퍼센트로 나타내는 코드 추가.)
 - 쓰레기통 하드웨어에 보조배터리 부착하고, 선정리까지 하여 하드웨어 완성.
 - 드론에서 받아오는 값도 총 부피 값을 받아오는 코드 추가.
 - 드론과 쓰레기통코드 실행했을 때 가독성 좋게 코드 수정.

## 문제점) reverse SSH를 사용할 때 드론으로 원격접속이 오류가 남. ##
 - crontab을 사용하여 라즈베리파이 재부팅 시 쉘스크립트를 자동으로 실행시킨다.
 - 새로 받은 LTE 사설 IP 정보를 가져와서 라우팅 테이블 정보 갱신과 reverse SSH 명령을 수행시키고자 함.

-- 문제점과 문제 해결 --

 1. 재부팅 해도 쉘 스크립트가 실행이 되지 않아 쉘스크립트에 chmod 700으로 권한을 부여해주고 나니<br> 
 재부팅 후 crontab으로 두 개의 쉘파일이 자동 실행되는 것을 확인. <br>
 이후 정상적으로 셀룰러모드인 드론에 무선으로 원격접속 되는 것을 확인.

 2. ifconfig 명령어 디렉터리 오류<br>
  - 리눅스에서 ifconfig 명령어의 위치는 /usr/bin인데 드론 라즈베리파이에는 /usr/sbin 또는 /usr/bin 위치에서 찾을 수 없어서<br> 
  쉘 스크립트의 bash 명령어를 수행할 때 경로에서 파일을 찾을 수 없다는 오류 발생. <br>
  쉘 스크립트 안의 bash 명령어에서 경로를 지우고 ifconfig 명령어만 남겨 수정하니 쉘 스크립트 파일이 정상으로 작동하는 것을 확인함.<br>

3. SSH 최초 접근 시 핑거프린트 yes or no 발생으로 인해 crontab이 실행시키는 SSH 명령이 완벽하게 실행이 되지 않음
  -SSH config 파일을 수정하여 StrictHostKeyChecing no를 추가해줌.

4. password를 치라는 문구가 나오는 경우가 생긴다.
  - 처음 한 번은 password를 입력하여 터널링을 해주었지만 계속 password를 입력해야 한다는 명령어 출력이 되어<br>
  sshpass도구로 미리 ssh 접속 비밀번호를 특정 파라미터값으로 정의하여 자동으로 로그인하게 구현.<br>

reverseSSH.sh에 sshpass -p 11111111 ssh $mobileIpAddress -f -N -T -R 2222:localhost:22 uhyeong@$routerIp –p 5001 코드로 하여 실행하니 성공.
